___ f1(
    print('function')

___ decorator(
    print('before')
    f1
    print('after')

f1
decorator

___ f1(
    print('function')

___ decorator(f
    print('before')
    f1
    print('after')

print
f1
decorator(f1)


___ f1(
    print('function')

___ decorator(f
    ___ wrapper(
        print('before')
        f1
        print('after')
    r_ wrapper

print
f1
new _ decorator(f1)
new

print
f1 _ decorator(f1)